## 1.17.0

- **更换公共库 CDN 为[南科大镜像](https://mirrors.sustech.edu.cn/help/cdnjs.html)，原因见 [issue](https://github.com/beijixiaohu/OJBetter/issues/151)**

- 修复 submissions 页面代码"展开/折叠"按钮无效的问题

- 调整设置页面的布局结构

## 1.16.1

- 修复 网站本地化报错的问题

## 1.16.0

- 添加 "ChatGPT 翻译提示词自定义" 和 "作为系统提示词"的选项 感谢 **@Dawn-Xu-helloworld** 的协作
- 添加 代码提交确认弹窗显示题目名，
- 添加 自动翻译 选项
- 添加 样例通过自动提交 选项（默认关闭）
- 更换 "有道翻译" 的接口
- 修复 代码块美化中存在 `&nbsp;` 符号的问题
- 修复 主题设置为 follow 时 Monaco 编辑器未正确应用主题的问题 感谢 **@cscnk52** 的贡献
- 修复 行间 LaTeX 未正确替换的问题，修复相关正则的性能问题
- 修复 重新翻译时"收起旧的结果"报错的问题
- 修复  MarkDown 转换时未过滤 script 标签的问题
- 修复 一些比赛无法跳转至洛谷的问题
- 修改 clist rating 的颜色为 AtCoder 的颜色规则
- 使用 polyfill 以兼容不支持 dialog.showModal() 方法的瀏覽器（比如 Firefox79）

## 1.15.2

- 移除已無意義的方法：判斷文字是否可能為代碼

## 1.15.0

- MarkDown 資料中不再包含行間程式碼區塊
- 完善網站在地化規則
- 改進了判斷文字為程式碼片段的相關方法
- 修復「美化程式碼區塊」 功能報錯not defined 的問題
- 修正`OJB_observeElement()` 方法報錯的問題
- 修正網站本地化方法`strictTraverseTextNodes()` 無效的問題

## 1.14.2

- 修正黑暗模式下編輯器的一處樣式錯誤
- 修復程式碼編輯器語言選擇初始值錯誤的問題
- 修復在非chrome 瀏覽器中，程式碼編輯器初始化異常的問題

## 1.14.0

- 修復在某些情況下代碼編輯器未正確加載的問題感謝@smart_stupid @acstor 的反饋

## 1.13.0

> **本次更新同步了Codeforces Better v1.68 - 1.74 的變更到AtCoder Better**

- 增加跳到VJudge 的按鈕

- 增加「美化程式碼區塊」功能，使用monaco編輯器取代頁面上的pre程式碼區塊，這也會改善黑暗模式下的程式碼顯示效果

- 改進Clist Rating 的各個請求方法，以解決沒有正確取得資料的問題

- 改進ChatGPT 翻譯的prompt，並修復可能產生的注入錯誤導致翻譯結果不全的問題

- 改進LaTeX 替換/還原的相關程式碼，現在其可以在多重嵌套的情況下正確還原

- 增強網站在地化方法的健全性

- 調整黑暗模式的相關程式碼，使用變數以便於統一樣式和管理

- 更換CDN staticfile.org 為staticfile.net

- 修正題單頁面一些題目的clist rating 可能顯示未找到的問題

- 修正題目集頁面clist 分數顯示異常的問題

- 修復程式碼線上測試中差異對比樣式未對齊的問題

- 修正deepl 429 報錯後未正確顯示提示訊息的問題

- 修正題目頁Clist Rating 可能會顯示未找到的問題

- 修復洛谷跳轉方法在舊版Tampermonkey 報錯的問題

- 修正當MathJax 庫檔案未正確載入時，會發生意外的死循環導致頁面卡死的問題

- 修正DeepL 免費模式翻譯時未正確顯示翻譯中提示訊息的問題

- 修復腳本可能未正確載入的問題

- 修復相鄰的LaTeX 公式間的排版可能被破壞的問題

- 一些其他調整和改進

------

- 將網站在地化的資料獨立為外部JSON，以便於維護
- 腳本支援國際化，同時使用crowdin 平台以自動化在地化工作
- 更換一些按鈕為圖示按鈕
- 添加對DeepL API 的支持，包括官方的api-free、api-pro 和deeplx，感謝@Vistarin 的建議
- 加上對deepl 和chatgpt 配置餘額查詢的支持，注意這還需要你的服務商支援並提供相應的API
- 新增對翻譯前的文字判斷，如果其疑似程式碼片段，則不會自動翻譯，且點擊翻譯前也會彈窗提示
- 新增選擇翻譯服務目標語言的功能
- 新增關於頁面，以及更新頻道、更新來源選擇項
- 新增調試維護頁面，包括快取刷新，資料清除，導入匯出
- 新增自訂選項： '程式碼編輯器提交按鈕位置' ，預設為底部，感謝@lishufood 的建議
- 改進各個載入函數，移除一些不必要的等待關係，加快腳本載入時間
- 改進翻譯功能的相關方法，以及報錯資訊的顯示方式
- 改進自動翻譯的效能，以及可能無法自動翻譯的問題
- 改進程式碼範例線上運行的相關程式碼
- 改進運行結果差異對比方法codeDiff()
- 改進dialog 視窗為背景內容不再會隨滑鼠一起捲動
- 改進程式碼編輯器固定到右側，底部，全螢幕時的樣式，感謝@lishufood 的建議
- 改進.html2md-panel 面板在simple 模式下的顯示效果
- 改進設定面板中配置頁面的樣式
- 修正acmsguru 題目題目頁編輯器報錯的問題
- 修正問題頁程式碼編輯器在切換網站的行動/桌面版本後報錯的問題
- 修正getMarkdown() 方法的一個錯誤，其錯誤的將資料直接儲存到DOM 中，導致頁面效能下降
- 修復關閉'折疊塊自動展開'後折疊塊內的翻譯按鈕不顯示的問題，感謝@MoYuToGo 的反饋
- 由於"不等待頁面資源完全載入"選項理論上已無意義，故重命名以取消先前可能的選取狀態
- 調整大量的程式碼結構
- **大量的css class 重新命名，因此如果你使用了stylus自訂樣式，可能需要調整**
- 一些其他的調整和改進

------

- 修復ChatGPT 配置面板不顯示的問題，感謝@caoxuanming 的回饋
- 新增一個配置開關"滑鼠滾動鎖定" ，預設開啟， 感謝 @liuhao6 的建議

------

- 更新clist rating 的API為v4，調整題目頁的資料取得方式為透過API獲取，感謝@wrkwrk 的建議
- 新增ChatGPT 翻譯「串流」 選項，預設開啟
- 修復Google 翻譯結果為空的問題感謝@shicxin 的回饋
- 新增一個設定開關"代碼提交是否二次確認" ，預設開啟感謝@Rikkual 的建議
- 在完整題目集頁中新增小區域的按鈕
- 修正完整題目集頁右鍵列印時不顯示翻譯結果的問題感謝@zfs732 的回饋

------

- 在題目頁下方新增程式碼編輯器，支援線上程式碼測試、程式碼提交等，詳情請閱讀資訊頁
- 修復插入腳本按鈕、翻譯結果時會被當做題目描述更改的問題
- 完善組合混搭管理頁面的漢化
- 增加"自動翻譯短文字" 功能, 預設關閉
- 改進翻譯等待間隔的實作方式，現在等待間隔全域生效
- 改進"顯示目標區域範圍" 的實現方式
- 完善黑暗模式，改進範例元素的hover 樣式感謝@SUPERLWR 的回饋
- 增加設定面板選項: 翻譯-過濾文字中的\*\*號碼感謝@Dog_E 、CreMicro 的回饋
- 修復關閉「顯示載入提示訊息」後，Clist Rating 無法正常顯示的問題，感謝Vistarin 的回饋
- 一些其他改進和修復
